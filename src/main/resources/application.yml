server:
  port: 8080
  shutdown: graceful      # Graceful Shutdown 활성화
  tomcat:
    connection-timeout: 10000  # 10초 내에 처리 안되면 끊음 (DoS 방지)

spring:
  application:
    name: pqc-api-service
  lifecycle:
    timeout-per-shutdown-phase: 30s  # 최대 대기 시간
  servlet:
    multipart:
      max-file-size: 1MB      # PQC 키가 아무리 커도 1MB는 안 넘음
      max-request-size: 1MB   # 전체 요청 크기 제한

security:
  allowed-ips:
    - 127.0.0.1           # localhost
    - 0:0:0:0:0:0:0:1     # IPv6 localhost
    - 192.168.1.0/24      # 내부망 대역 (예시)
    - 172.18.0.0/16       # Docker 기본 네트워크
    - 10.10.1.50          # 특정 서버 (예시)

management:
  endpoints:
    web:
      exposure:
        include: health, info, prometheus, metrics    # 노출할 엔드포인트
      base-path: /actuator       # 기본 경로
  endpoint:
    health:
      show-details: when_authorized
    prometheus:
      enabled: true
  health:
    defaults:
      enabled: true
  metrics:
    tags:
      application: ${spring.application.name}

pqc:
  pool:
    kem-size: 20           # KEM 키 풀 크기
    dsa-size: 20           # DSA 키 풀 크기
    refill-interval: 5000  # 보충 주기 (ms)